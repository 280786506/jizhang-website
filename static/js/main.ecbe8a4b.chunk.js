(this.webpackJsonpmorney=this.webpackJsonpmorney||[]).push([[0],{101:function(n,e,t){},102:function(n,e,t){"use strict";t.r(e);var i,a,c,r,o,d,l,s,u,b=t(0),f=t.n(b),j=t(21),x=t.n(j),p=t(84),g=t(12),O=t(13),h=t(8),m=t(9),v=t(1),w=m.a.div(i||(i=Object(h.a)(["\n  height:100vh;\n  display:flex;\n  flex-direction:column;\n"]))),k=m.a.div(a||(a=Object(h.a)(["\n  flex-grow:1;\n  overflow:hidden;\n"]))),y=function(n){return Object(v.jsx)(w,{children:Object(v.jsx)(k,{className:n.className,children:n.children})})},S=t(85),T=t(26),C=function(n,e){var t=Object(b.useRef)(0);Object(b.useEffect)((function(){t.current+=1})),Object(b.useEffect)((function(){t.current>1&&n()}),e)},N=function(){var n=Object(b.useState)([]),e=Object(O.a)(n,2),t=e[0],i=e[1];Object(b.useEffect)((function(){i(JSON.parse(window.localStorage.getItem("records")||"[]"))}),[]);return C((function(){window.localStorage.setItem("records",JSON.stringify(t))}),[t]),{records:t,addRecord:function(n){if(n.amount<=0)return{status:0,msg:"\u8bf7\u8f93\u5165\u91d1\u989d"};if(0===n.tagIds.length)return{status:0,msg:"\u8bf7\u9009\u62e9\u6807\u7b7e"};var e=Object(T.a)({},n);return i([].concat(Object(S.a)(t),[e])),{status:1,msg:"\u4fdd\u5b58\u6210\u529f"}}}},I=parseInt(window.localStorage.getItem("idMax")||"0"),Y=function(){return I+=1,window.localStorage.setItem("inMax",JSON.stringify(I)),I},z=function(){var n=Object(b.useState)([]),e=Object(O.a)(n,2),t=e[0],i=e[1];Object(b.useEffect)((function(){var n=JSON.parse(window.localStorage.getItem("tags")||"[]");0===n.length&&(n=[{id:Y(),name:"\u6d88\u8d39",icon:"SkinTwoTone"},{id:Y(),name:"\u7f8e\u98df",icon:"SmileTwoTone"},{id:Y(),name:"\u4f4f\u5bbf",icon:"BankTwoTone"},{id:Y(),name:"\u4ea4\u901a",icon:"CarTwoTone"},{id:Y(),name:"\u6536\u5165",icon:"DollarCircleTwoTone"}]),i(n)}),[]),C((function(){window.localStorage.setItem("tags",JSON.stringify(t))}),[t]);return{tags:t,setTags:i,findTag:function(n){return t.filter((function(e){return e.id===n}))[0]},findTagIndex:function(n){for(var e=-1,i=0;i<t.length;i++)if(t[i].id===n){e=i;break}return e},updateTag:function(n,e){},deleteTag:function(n){i(t.filter((function(e){return e.id!==n})))},addTag:function(){window.prompt("\u65b0\u6807\u7b7e\u540d\u79f0\u4e3a")},getName:function(n){var e=t.filter((function(e){return e.id===n}))[0];return e?e.name:""},getIcon:function(n){var e=t.filter((function(e){return e.id===n}))[0];return e?e.icon:""}}},J=t(22),D=t.n(J),M=t(64),E=function(){var n=Object(b.useState)(!1),e=Object(O.a)(n,2);return{display:e[0],setDisplay:e[1]}},A=function(){return Object(M.a)(E)},K=m.a.section(c||(c=Object(h.a)(["\n  font-size:12px;\n  background:white;\n  color:#999;\n  flex:1;\n  display: flex;\n  > ul {\n    margin:15px 0;\n    flex:1;\n    display: flex;\n    > li{\n      text-align:center;\n      padding:8px;\n      background:#dadada;\n      border-radius:8px;\n      margin-left:12px;\n      &.selected{\n        background:rgb(235,241,255);\n        color:rgb(28,94,207);\n      }\n    }\n  }\n  >button{\n    border:none;\n    margin:15px ;\n    padding:8px;\n    border-radius:8px;\n    background:#dadada;\n    color:#999;\n    margin-right:12px;\n  }\n"]))),R=function(n){var e=Object(b.useState)(["-","+"]),t=Object(O.a)(e,1)[0],i=n.value,a={"-":"\u652f\u51fa","+":"\u6536\u5165"},c=A().setDisplay;return Object(v.jsxs)(K,{children:[Object(v.jsx)("ul",{children:t.map((function(e){return Object(v.jsx)("li",{className:i===e?"selected":"",onClick:function(){n.onChange(e)},children:a[e]},e)}))}),Object(v.jsx)("button",{onClick:function(){c(!1)},children:"\u5173\u95ed"})]})},B=t(87),V=m.a.label(r||(r=Object(h.a)(["\n    display: flex;\n    align-items:center;\n    > span {margin-right:16px;white-space:nowrap}\n    > input {\n      display:block;\n      width:100%;\n      height:42px;\n      background:none;\n      border:none;\n    }\n"]))),F=function(n){n.label,n.children;var e=Object(B.a)(n,["label","children"]);return Object(v.jsxs)(V,{children:[Object(v.jsx)("span",{children:n.label}),Object(v.jsx)("input",Object(T.a)({},e))]})},q=m.a.section(o||(o=Object(h.a)(["\n  background:#ffffff;\n  padding:0px 14px;\n  font-size:14px;\n \n"]))),G=function(n){var e=n.value;return Object(v.jsx)(q,{children:Object(v.jsx)(F,{label:"\u5907\u6ce8",value:e,onChange:function(e){n.onChange(e.target.value)},placeholder:"\u6dfb\u52a0\u5907\u6ce8"})})},H=m.a.section(d||(d=Object(h.a)(["\n  display: flex;\n  flex-direction:column;\n  > .output{\n    background:#fff;\n    font-size:36px;\n    line-height:72px;\n    text-align:right;\n    padding:0 16px;\n    box-shadow:inset 0 5px 5px -5px rgba(0,0,0,0,0.25);\n    border-top:5px solid #fcfcfc;\n\n  }\n  >.pad{\n    > button{\n      border:none;\n      border:5px solid #fcfcfc;\n      font-size:18px;\n      float:left;\n      width:25%;\n      height:64px;\n      background:#ffffff;\n      &.ok{\n        height:128px;\n        float:right;\n      }\n      &.zero{\n        width:50%;\n      }\n    }\n  }\n"]))),L=function(n){var e=Object(b.useState)(n.value.toString()),t=Object(O.a)(e,2),i=t[0],a=t[1],c=function(e){var t;t=e.length>16?e.slice(0,16):0===e.length?"0":e,a(t),n.onChange(parseFloat(t))},r=["0","1","2","3","4","5","6","7","8","9"];return Object(v.jsxs)(H,{children:[Object(v.jsx)("div",{className:"output",children:i}),Object(v.jsxs)("div",{className:"pad clearfix",onClick:function(e){var t=e.target.textContent;if(null!==t&&t){if(r.indexOf(t)>=0)if("0"===i)c(t);else if(i.indexOf(".")>-1)i.indexOf(".")+2>=i.length&&c(i+t);else c(i+t);"\u5220\u9664"===t&&(1===i.length?c(""):c(i.slice(0,-1)||"")),"\u6e05\u7a7a"===t&&c(""),"."===t&&-1===i.indexOf(".")&&c(i+"."),"OK"===t&&n.onOK&&n.onOK()}},children:[Object(v.jsx)("button",{children:"1"}),Object(v.jsx)("button",{children:"2"}),Object(v.jsx)("button",{children:"3"}),Object(v.jsx)("button",{children:"\u5220\u9664"}),Object(v.jsx)("button",{children:"4"}),Object(v.jsx)("button",{children:"5"}),Object(v.jsx)("button",{children:"6"}),Object(v.jsx)("button",{children:"\u6e05\u7a7a"}),Object(v.jsx)("button",{children:"7"}),Object(v.jsx)("button",{children:"8"}),Object(v.jsx)("button",{children:"9"}),Object(v.jsx)("button",{className:"ok",children:"OK"}),Object(v.jsx)("button",{className:"zero",children:"0"}),Object(v.jsx)("button",{children:"."})]})]})},P=t(105),Q=t(106),U=t(107),W=t(108),X=t(109),Z=m.a.section(l||(l=Object(h.a)(["\n  flex-grow:1;\n  background:#fff;\n  padding: 12px 16px;\n  display: flex;\n  flex-direction:column;\n  justify-content:flex-end;\n  align-items:flex-start;\n  > ol{\n    margin: 0 -16px;\n    >li{\n      background:#f1f1f1;\n      border-radius:8px;\n      display:inline-block;\n      padding:5px 12px;\n      margin:8px 9.5px;\n      height:44px;\n      color:rgb(24 144 255);\n      text-align:center;\n      > div{\n        display: flex;\n        flex-direction:column;\n        align-items:center;\n        > p{\n          font-size:12px;\n          /* margin-top:5px; */\n        }\n        >span{\n          \n        }\n      }\n      &.selected {\n        background:#e6f7ff;\n        color:rgb(24 ,144 255);\n      }\n    }\n   \n  }\n  /* > button{\n    background:none;\n    border:none;\n    margin-top:10px; \n  } */\n"]))),$=function(n){var e=z(),t=e.tags,i=(e.addTag,n.value),a={SkinTwoTone:P.a,BankTwoTone:Q.a,SmileTwoTone:U.a,CarTwoTone:W.a,DollarCircleTwoTone:X.a},c=function(n){var e=a[n];return Object(v.jsx)(e,{})};return Object(v.jsx)(Z,{children:Object(v.jsx)("ol",{children:t.map((function(e){return Object(v.jsx)("li",{onClick:function(){!function(e){var t=i.indexOf(e);console.log(t),t>=0?n.onChange(i.filter((function(n){return n!==e}))):n.onChange([e])}(e.id)},className:(t=e.id,i.indexOf(t)>=0?"selected":""),id:e.id.toString(),children:Object(v.jsxs)("div",{children:[Object(v.jsx)("span",{children:c(e.icon)}),Object(v.jsxs)("p",{children:[e.name," "]})]})},e.id);var t}))})})},_=t(104),nn=t(110),en=t(17),tn=t.n(en),an=(t(60),t(47)),cn=m.a.div(s||(s=Object(h.a)(["\n  display: flex;\n  flex-direction:column;\n"]))),rn=m.a.div(u||(u=Object(h.a)(["\ndisplay: flex;\nbackground: #fff;\nposition:relative;\nalign-items:center;\n  >.ant-picker{\n    padding:4px 0 4px 15px;\n  }\n  >.anticon{\n    margin-left:-20px;\n    margin-right:10px;\n    z-index:11;\n  }\n"]))),on=D()().date(),dn=D()().month()+1,ln=D()().year(),sn="".concat(ln,"/").concat(dn,"/").concat(on),un={tagIds:[],note:"",category:"-",amount:0,createdAt:sn};var bn,fn,jn,xn,pn,gn,On,hn,mn,vn,wn,kn,yn=function(){var n=Object(b.useState)(un),e=Object(O.a)(n,2),t=e[0],i=e[1],a=N().addRecord,c=function(n){i(Object(T.a)(Object(T.a)({},t),n))},r=A().setDisplay,o=Object(b.useState)(!1),d=Object(O.a)(o,2),l=d[0],s=d[1],u="YYYY/MM/DD",f=function(){s(!l)};return Object(v.jsxs)(cn,{children:[Object(v.jsxs)(rn,{children:[Object(v.jsx)(_.a,{onChange:function(n,e){console.log(n,e),i(Object(T.a)(Object(T.a)({},t),{},{createdAt:e})),s(!l)},inputReadOnly:!0,locale:an.a,bordered:!1,format:u,defaultValue:tn()(sn,u),allowClear:!1,open:l,suffixIcon:"",onClick:f}),Object(v.jsx)(nn.a,{onClick:f}),Object(v.jsx)(R,{value:t.category,onChange:function(n){return c({category:n})}})]}),Object(v.jsx)($,{value:t.tagIds,onChange:function(n){return c({tagIds:n})}}),Object(v.jsx)(G,{value:t.note,onChange:function(n){return c({note:n})}}),Object(v.jsx)(L,{value:t.amount,onChange:function(n){return c({amount:n})},onOK:function(){var n=a(t);alert(n.msg),1===n.status&&(i(un),setTimeout((function(){r(!1),window.location.reload()}),50))}})]})},Sn=m.a.div(bn||(bn=Object(h.a)(["\ndisplay: flex;\nflex-direction:column;\nheight:100vh;\n"]))),Tn=m.a.div(fn||(fn=Object(h.a)(["\n padding:0 16px;\n .ant-picker{\n  padding:4px 0;\n }\n .anticon {\n   color:#fff;\n   margin-left:-20px\n }\n .ant-picker.ant-picker-borderless{\n   width:100px;\n }\n .ant-picker-input > input{\n   color:#fff\n }\n"]))),Cn=m.a.div(jn||(jn=Object(h.a)(["\n  font-size:18px;\n  font-weight:bold;\n  color:white;\n  padding:16px 0;\n"]))),Nn=m.a.div(xn||(xn=Object(h.a)(["\n position:absolute;\n height:130px;\n width:100%;\n top:0;\n background:rgb(16,108,255);\n z-index:-1;\n"]))),In=m.a.div(pn||(pn=Object(h.a)(["\n  background:#fff;\n  padding:10px;\n  margin-top:15px;\n  border-radius:8px;\n  display: flex;\n  font-size:14px;\n  & div {\n    flex:1;\n  }\n    & p {\n      margin:0;\n      margin-top:15px;\n      font-size:24px;\n      font-weight:bold\n      \n    }\n"]))),Yn=m.a.div(gn||(gn=Object(h.a)(["\n  margin-top:15px;\n  background:white;\n  padding:20px 10px;\n  border-radius:8px;\n  & div{\n    display: flex;\n    /* margin-top:15px; */\n    padding:15px 0;\n  }\n  & p{\n    color:#999;\n  }\n"]))),zn=m.a.span(On||(On=Object(h.a)(["\n flex:1;\n color:#999;\n margin-left:10px;\n"]))),Jn=m.a.div(hn||(hn=Object(h.a)(["\noverflow-y:scroll;\n/* height:80vh; */\nflex:1;\npadding:0 16px;\nmargin-top:15px;\npadding-bottom:30px;\n"]))),Dn=m.a.button(mn||(mn=Object(h.a)(["\n    position:absolute;\n    right:15px;\n    bottom:10px;\n    height:40px;\n    width:40px;\n    padding:15px;\n    border-radius:50%;\n    border:none;\n    background:rgb(16,108,255);\n    color:white;\n    font-size:22px;\n    line-height:13px;\n    font-weight:bold;\n    text-align:center;\n    box-shadow:0 0 10px #999;\n"]))),Mn=m.a.div(vn||(vn=Object(h.a)(["\n  position:absolute;\n  z-index:10;\n  bottom:0;\n  width:100%;\n  display: flex;\n  flex-direction: column-reverse;\n  /* height: 100vh; */\n"]))),En=m.a.span(wn||(wn=Object(h.a)(["\n  background:#e6f7ff;\n  padding:8px;\n  margin-right:5px;\n  border-radius:8px;\n"]))),An=m.a.div(kn||(kn=Object(h.a)(["\n  position:absolute;\n  top:0;\n  bottom:0;\n  left:0;\n  right:0;\n  background:rgba(0,0,0,0.5);\n\n"])));var Kn=function(){var n=N().records,e=z(),t=e.getName,i=e.getIcon,a=[],c=Object(b.useState)([]),r=Object(O.a)(c,2),o=r[0],d=r[1],l=function(n){var e=JSON.stringify(n);if(-1===e.indexOf("."))return e+".00";var t=JSON.parse(JSON.stringify(e)).split(".");return 0===t[t.length-1].length?e+"00":1===t[t.length-1].length?e+"0":e},s=function(e,t){var i=0,c=0;a=[];var r=[];n.map((function(n){var o=D()(n.createdAt).format("YYYY"),d=D()(n.createdAt).format("MM");if(o==e&&d==t){var l=D()(n.createdAt).format("YYYY\u5e74MM\u6708DD\u65e5"),s=a.indexOf(l);if(-1===s){a.push(l);var u={date:l,list:[n]};r.push(u)}else r[s].list.push(n);"-"===n.category?c+=n.amount:i+=n.amount}}));var o=JSON.parse(JSON.stringify(r));o.sort((function(n,e){var t=n.date.split("\u5e74"),i=e.date.split("\u5e74"),a=t[1].split("\u6708"),c=i[1].split("\u6708"),r=a[1].split("\u65e5"),o=c[1].split("\u65e5");return n.y=t[0],n.m=a[0],n.d=r[0],e.y=i[0],e.m=c[0],e.d=o[0],n.y===e.y?n.m===e.m?n.d===e.d?n.d-e.d:e.d-n.d:e.m-n.m:e.y-n.y})),d(o),S(l(i)),Y(l(c))},u=A(),f=u.display,j=u.setDisplay,x=D()().date(),p=D()().month()+1,g=D()().year(),h="".concat(g,"/").concat(p,"/").concat(x),m=Object(b.useState)("0"),w=Object(O.a)(m,2),k=w[0],S=w[1],T=Object(b.useState)("0"),C=Object(O.a)(T,2),I=C[0],Y=C[1],J="YYYY\u5e74MM\u6708";Object(b.useEffect)((function(){s(g,p)}),[n]);var M=Object(b.useState)(!1),E=Object(O.a)(M,2),K=E[0],R=E[1],B=function(){R(!K)},V={SkinTwoTone:P.a,BankTwoTone:Q.a,SmileTwoTone:U.a,CarTwoTone:W.a,DollarCircleTwoTone:X.a},F=function(n){var e=V[n];return Object(v.jsx)(e,{})};return Object(v.jsx)(y,{children:Object(v.jsxs)(Sn,{children:[Object(v.jsx)(Nn,{}),Object(v.jsxs)(Tn,{children:[Object(v.jsx)(Cn,{children:"\u8bb0\u8d26\u672c"}),Object(v.jsx)(_.a,{onChange:function(n,e){var t=JSON.parse(JSON.stringify(e)).split("\u5e74"),i=t[1].split("\u6708")[0];s(t[0],i),R(!1)},inputReadOnly:!0,picker:"month",locale:an.a,bordered:!1,format:J,defaultValue:tn()(h,J),allowClear:!1,open:K,suffixIcon:"",onClick:B}),Object(v.jsx)(nn.a,{onClick:B}),Object(v.jsxs)(In,{children:[Object(v.jsxs)("div",{children:["\u672c\u6708\u603b\u652f\u51fa",Object(v.jsxs)("p",{children:["\uffe5",I]})]}),Object(v.jsxs)("div",{children:["\u672c\u6708\u603b\u6536\u5165",Object(v.jsxs)("p",{children:["\uffe5",k]})]})]})]}),Object(v.jsx)(Dn,{onClick:function(){R(!1),j(!0)},children:"+"}),Object(v.jsx)(Jn,{children:o.map((function(n){return Object(v.jsxs)(Yn,{children:[Object(v.jsx)("p",{children:n.date}),n.list.map((function(n,e){return Object(v.jsxs)("div",{children:[n.tagIds.map((function(n){return Object(v.jsxs)("span",{children:[Object(v.jsx)(En,{children:F(i(n))}),t(n)]},n)})),Object(v.jsx)(zn,{children:n.note}),n.category," ",l(n.amount)]},e)}))]},n.date)}))}),f&&Object(v.jsxs)("div",{children:[Object(v.jsx)(An,{onClick:function(){j(!1)}}),Object(v.jsx)(Mn,{children:Object(v.jsx)(yn,{})})]})]})})};var Rn=function(){return Object(v.jsx)("div",{children:"404"})};var Bn=function(){return Object(v.jsx)(p.a,{children:Object(v.jsxs)(g.d,{children:[Object(v.jsx)(g.a,{exact:!0,from:"/",to:"statistics"}),Object(v.jsx)(g.b,{exact:!0,path:"/statistics",children:Object(v.jsx)(Kn,{})}),Object(v.jsx)(g.b,{path:"*",children:Object(v.jsx)(Rn,{})})]})})};t(101);x.a.render(Object(v.jsx)(f.a.StrictMode,{children:Object(v.jsx)(Bn,{})}),document.getElementById("root"))}},[[102,1,2]]]);
//# sourceMappingURL=main.ecbe8a4b.chunk.js.map